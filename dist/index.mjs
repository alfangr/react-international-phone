import q,{useEffect as ke,useMemo as Oe,useRef as Be,useState as Ge}from"react";var E=[["Afghanistan","af","93"],["Albania","al","355"],["Algeria","dz","213"],["Andorra","ad","376"],["Angola","ao","244"],["Antigua and Barbuda","ag","1268"],["Argentina","ar","54","(..) ........",0],["Armenia","am","374",".. ......"],["Aruba","aw","297"],["Australia","au","61",{default:". .... ....","/^4/":"... ... ...","/^5(?!50)/":"... ... ...","/^1(3|8)00/":".... ... ...","/^13/":".. .. ..","/^180/":"... ...."},0,[]],["Austria","at","43"],["Azerbaijan","az","994","(..) ... .. .."],["Bahamas","bs","1242"],["Bahrain","bh","973"],["Bangladesh","bd","880"],["Barbados","bb","1246"],["Belarus","by","375","(..) ... .. .."],["Belgium","be","32","... .. .. .."],["Belize","bz","501"],["Benin","bj","229"],["Bhutan","bt","975"],["Bolivia","bo","591"],["Bosnia and Herzegovina","ba","387"],["Botswana","bw","267"],["Brazil","br","55","(..) .....-...."],["British Indian Ocean Territory","io","246"],["Brunei","bn","673"],["Bulgaria","bg","359"],["Burkina Faso","bf","226"],["Burundi","bi","257"],["Cambodia","kh","855"],["Cameroon","cm","237"],["Canada","ca","1","(...) ...-....",1,["204","226","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"]],["Cape Verde","cv","238"],["Caribbean Netherlands","bq","599","",1],["Cayman Islands","ky","1","... ... ....",4,["345"]],["Central African Republic","cf","236"],["Chad","td","235"],["Chile","cl","56"],["China","cn","86","... .... ...."],["Colombia","co","57","... ... ...."],["Comoros","km","269"],["Congo","cd","243"],["Congo","cg","242"],["Costa Rica","cr","506","....-...."],["C\xF4te d'Ivoire","ci","225",".. .. .. .. .."],["Croatia","hr","385"],["Cuba","cu","53"],["Cura\xE7ao","cw","599","",0],["Cyprus","cy","357",".. ......"],["Czech Republic","cz","420","... ... ..."],["Denmark","dk","45",".. .. .. .."],["Djibouti","dj","253",".. .. ...."],["Dominica","dm","1767"],["Dominican Republic","do","1","(...) ...-....",2,["809","829","849"]],["Ecuador","ec","593"],["Egypt","eg","20"],["El Salvador","sv","503","....-...."],["Equatorial Guinea","gq","240"],["Eritrea","er","291"],["Estonia","ee","372",".... ......"],["Ethiopia","et","251",".. ... ...."],["Fiji","fj","679"],["Finland","fi","358",".. ... .. .."],["France","fr","33",". .. .. .. .."],["French Guiana","gf","594"],["French Polynesia","pf","689"],["Gabon","ga","241"],["Gambia","gm","220"],["Georgia","ge","995"],["Germany","de","49","... ........."],["Ghana","gh","233"],["Greece","gr","30"],["Greenland","gl","299",".. .. .."],["Grenada","gd","1473"],["Guadeloupe","gp","590","",0],["Guam","gu","1671"],["Guatemala","gt","502","....-...."],["Guinea","gn","224"],["Guinea-Bissau","gw","245"],["Guyana","gy","592"],["Haiti","ht","509","....-...."],["Honduras","hn","504"],["Hong Kong","hk","852",".... ...."],["Hungary","hu","36"],["Iceland","is","354","... ...."],["India","in","91",".....-....."],["Indonesia","id","62"],["Iran","ir","98","... ... ...."],["Iraq","iq","964"],["Ireland","ie","353",".. ......."],["Israel","il","972","... ... ...."],["Italy","it","39","... .......",0],["Jamaica","jm","1876"],["Japan","jp","81",".. .... ...."],["Jordan","jo","962"],["Kazakhstan","kz","7","... ...-..-..",0],["Kenya","ke","254"],["Kiribati","ki","686"],["Kosovo","xk","383"],["Kuwait","kw","965"],["Kyrgyzstan","kg","996","... ... ..."],["Laos","la","856"],["Latvia","lv","371",".. ... ..."],["Lebanon","lb","961"],["Lesotho","ls","266"],["Liberia","lr","231"],["Libya","ly","218"],["Liechtenstein","li","423"],["Lithuania","lt","370"],["Luxembourg","lu","352"],["Macau","mo","853"],["Macedonia","mk","389"],["Madagascar","mg","261"],["Malawi","mw","265"],["Malaysia","my","60","..-....-...."],["Maldives","mv","960"],["Mali","ml","223"],["Malta","mt","356"],["Marshall Islands","mh","692"],["Martinique","mq","596"],["Mauritania","mr","222"],["Mauritius","mu","230"],["Mayotte","yt","262","",1,["269","639"]],["Mexico","mx","52","... ... ....",0],["Micronesia","fm","691"],["Moldova","md","373","(..) ..-..-.."],["Monaco","mc","377"],["Mongolia","mn","976"],["Montenegro","me","382"],["Morocco","ma","212"],["Mozambique","mz","258"],["Myanmar","mm","95"],["Namibia","na","264"],["Nauru","nr","674"],["Nepal","np","977"],["Netherlands","nl","31",{"/^06/":"(.). .........","/^6/":". .........","/^0(10|13|14|15|20|23|24|26|30|33|35|36|38|40|43|44|45|46|50|53|55|58|70|71|72|73|74|75|76|77|78|79|82|84|85|87|88|91)/":"(.).. ........","/^(10|13|14|15|20|23|24|26|30|33|35|36|38|40|43|44|45|46|50|53|55|58|70|71|72|73|74|75|76|77|78|79|82|84|85|87|88|91)/":".. ........","/^0/":"(.)... .......",default:"... ......."}],["New Caledonia","nc","687"],["New Zealand","nz","64","...-...-...."],["Nicaragua","ni","505"],["Niger","ne","227"],["Nigeria","ng","234"],["North Korea","kp","850"],["Norway","no","47","... .. ..."],["Oman","om","968"],["Pakistan","pk","92","...-......."],["Palau","pw","680"],["Palestine","ps","970"],["Panama","pa","507"],["Papua New Guinea","pg","675"],["Paraguay","py","595"],["Peru","pe","51"],["Philippines","ph","63","... ... ...."],["Poland","pl","48","...-...-..."],["Portugal","pt","351"],["Puerto Rico","pr","1","(...) ...-....",3,["787","939"]],["Qatar","qa","974"],["R\xE9union","re","262","",0],["Romania","ro","40"],["Russia","ru","7","(...) ...-..-..",1],["Rwanda","rw","250"],["Saint Kitts and Nevis","kn","1869"],["Saint Lucia","lc","1758"],["Saint Vincent and the Grenadines","vc","1784"],["Samoa","ws","685"],["San Marino","sm","378"],["S\xE3o Tom\xE9 and Pr\xEDncipe","st","239"],["Saudi Arabia","sa","966"],["Senegal","sn","221"],["Serbia","rs","381"],["Seychelles","sc","248"],["Sierra Leone","sl","232"],["Singapore","sg","65","....-...."],["Slovakia","sk","421"],["Slovenia","si","386"],["Solomon Islands","sb","677"],["Somalia","so","252"],["South Africa","za","27"],["South Korea","kr","82","... .... ...."],["South Sudan","ss","211"],["Spain","es","34","... ... ..."],["Sri Lanka","lk","94"],["Sudan","sd","249"],["Suriname","sr","597"],["Swaziland","sz","268"],["Sweden","se","46","... ... ..."],["Switzerland","ch","41",".. ... .. .."],["Syria","sy","963"],["Taiwan","tw","886"],["Tajikistan","tj","992"],["Tanzania","tz","255"],["Thailand","th","66"],["Timor-Leste","tl","670"],["Togo","tg","228"],["Tonga","to","676"],["Trinidad and Tobago","tt","1868"],["Tunisia","tn","216"],["Turkey","tr","90","... ... .. .."],["Turkmenistan","tm","993"],["Tuvalu","tv","688"],["Uganda","ug","256"],["Ukraine","ua","380","(..) ... .. .."],["United Arab Emirates","ae","971"],["United Kingdom","gb","44",".... ......"],["United States","us","1","(...) ...-....",0],["Uruguay","uy","598"],["Uzbekistan","uz","998",".. ... .. .."],["Vanuatu","vu","678"],["Vatican City","va","39",".. .... ....",1],["Venezuela","ve","58"],["Vietnam","vn","84"],["Yemen","ye","967"],["Zambia","zm","260"],["Zimbabwe","zw","263"]];var Ne="react-international-phone-",ue=(...t)=>t.filter(e=>!!e).join(" ").trim(),Me=(...t)=>ue(...t).split(" ").map(e=>`${Ne}${e}`).join(" "),v=({addPrefix:t,rawClassNames:e})=>ue(Me(...t),...e);var de=({value:t,mask:e,maskSymbol:n,offset:s=0,trimNonMaskCharsLeftover:o=!1})=>{if(t.length<s)return t;let a=t.slice(0,s),p=t.slice(s),i=a,u=0;for(let d of e.split("")){if(u>=p.length){if(!o&&d!==n){i+=d;continue}break}d===n?(i+=p[u],u+=1):i+=d}return i};var B=t=>t?/^\d+$/.test(t):!1;var G=t=>t.replace(/\D/g,"");var ce=(t,e)=>{let n=t.style.display;n!=="block"&&(t.style.display="block");let s=t.getBoundingClientRect(),o=e.getBoundingClientRect(),a=o.top-s.top,p=s.bottom-o.bottom;a>=0&&p>=0||(Math.abs(a)<Math.abs(p)?t.scrollTop+=a:t.scrollTop-=p),t.style.display=n};var _e=t=>{let{name:e,iso2:n,dialCode:s,format:o,priority:a,areaCodes:p}=t,i=[e,n,s,o,a,p];for(let u=0;u<i.length;u+=1){if(u===0)continue;let d=i[u-1],l=i[u];if(d===void 0&&l!==void 0){let c=JSON.stringify(i,(m,y)=>y===void 0?"__undefined":y).replace(/"__undefined"/g,"undefined");throw new Error(`[react-international-phone] invalid country values passed to buildCountryData. Check ${d} in: ${c}`)}}return i.filter(u=>u!==void 0)};import{useCallback as Ae,useEffect as ve,useMemo as Le,useRef as Te,useState as $e}from"react";var pe=()=>typeof window>"u"?!1:window.navigator.userAgent.toLowerCase().includes("macintosh");var me=({phone:t,dialCode:e,prefix:n="+",charAfterDialCode:s=" "})=>{if(!t||!e)return t;let o=t;return o.startsWith(n)&&(o=o.replace(n,"")),o.startsWith(e)?(o=o.replace(e,""),o.startsWith(s)&&(o=o.replace(s,"")),o):t};var fe=(t,e)=>{let n=e.disableDialCodeAndPrefix?!1:e.forceDialCode,s=e.disableDialCodeAndPrefix?!1:e.insertDialCodeOnEmpty,o=t,a=d=>e.trimNonDigitsEnd?d.trim():d;if(!o)return s&&!o.length||n?a(`${e.prefix}${e.dialCode}${e.charAfterDialCode}`):a(o);if(o=G(o),o===e.dialCode&&!e.disableDialCodeAndPrefix)return a(`${e.prefix}${e.dialCode}${e.charAfterDialCode}`);if(e.dialCode.startsWith(o)&&!e.disableDialCodeAndPrefix)return a(n?`${e.prefix}${e.dialCode}${e.charAfterDialCode}`:`${e.prefix}${o}`);if(!o.startsWith(e.dialCode)&&!e.disableDialCodeAndPrefix){if(n)return a(`${e.prefix}${e.dialCode}${e.charAfterDialCode}`);if(o.length<e.dialCode.length)return a(`${e.prefix}${o}`)}let p=()=>{let d=e.dialCode.length,l=o.slice(0,d),c=o.slice(d);return{phoneLeftSide:l,phoneRightSide:c}},{phoneLeftSide:i,phoneRightSide:u}=p();return i=`${e.prefix}${i}${e.charAfterDialCode}`,u=de({value:u,mask:e.mask,maskSymbol:e.maskChar,trimNonMaskCharsLeftover:e.trimNonDigitsEnd||e.disableDialCodeAndPrefix&&u.length===0}),e.disableDialCodeAndPrefix&&(i=""),a(`${i}${u}`)};var he=({phoneBeforeInput:t,phoneAfterInput:e,phoneAfterFormatted:n,cursorPositionAfterInput:s,leftOffset:o=0,deletion:a})=>{if(s<o)return o;if(!t)return n.length;let p=null;for(let l=s-1;l>=0;l-=1)if(B(e[l])){p=l;break}if(p===null){for(let l=0;l<e.length;l+=1)if(B(n[l]))return l;return e.length}let i=0;for(let l=0;l<p;l+=1)B(e[l])&&(i+=1);let u=0,d=0;for(let l=0;l<n.length&&(u+=1,B(n[l])&&(d+=1),!(d>=i+1));l+=1);if(a!=="backward")for(;!B(n[u])&&u<n.length;)u+=1;return u};var W=({phone:t,prefix:e})=>t?`${e}${G(t)}`:"";function J({value:t,country:e,insertDialCodeOnEmpty:n,trimNonDigitsEnd:s,countries:o,prefix:a,charAfterDialCode:p,forceDialCode:i,disableDialCodeAndPrefix:u,defaultMask:d,countryGuessingEnabled:l,disableFormatting:c}){let m=t;u&&(m=m.startsWith(`${a}`)?m:`${a}${e.dialCode}${m}`);let y=l?re({phone:m,countries:o,currentCountryIso2:e?.iso2}):void 0,S=y?.country??e,C=fe(m,{prefix:a,mask:te({phone:m,country:S,defaultMask:d,disableFormatting:c}),maskChar:X,dialCode:S.dialCode,trimNonDigitsEnd:s,charAfterDialCode:p,forceDialCode:i,insertDialCodeOnEmpty:n,disableDialCodeAndPrefix:u}),x=l&&!y?.fullDialCodeMatch?e:S;return{phone:W({phone:u?`${x.dialCode}${C}`:C,prefix:a}),inputValue:C,country:x}}var Re=t=>{if(t?.toLocaleLowerCase().includes("delete")??!1)return t?.toLocaleLowerCase().includes("forward")?"forward":"backward"},ye=(t,{country:e,insertDialCodeOnEmpty:n,phoneBeforeInput:s,prefix:o,charAfterDialCode:a,forceDialCode:p,disableDialCodeAndPrefix:i,countryGuessingEnabled:u,defaultMask:d,disableFormatting:l,countries:c})=>{let m=t.nativeEvent,y=m.inputType,S=Re(y),C=!!y?.startsWith("insertFrom"),x=y==="insertText",f=m?.data||void 0,g=t.target.value,P=t.target.selectionStart??0;if(y?.includes("history"))return{inputValue:s,phone:W({phone:s,prefix:o}),cursorPosition:s.length,country:e};if(x&&!B(f)&&g!==o)return{inputValue:s,phone:W({phone:i?`${e.dialCode}${s}`:s,prefix:o}),cursorPosition:P-(f?.length??0),country:e};if(p&&!g.startsWith(`${o}${e.dialCode}`)&&!C){let N=g?s:`${o}${e.dialCode}${a}`;return{inputValue:N,phone:W({phone:N,prefix:o}),cursorPosition:o.length+e.dialCode.length+a.length,country:e}}let{phone:k,inputValue:I,country:$}=J({value:g,country:e,trimNonDigitsEnd:S==="backward",insertDialCodeOnEmpty:n,countryGuessingEnabled:u,countries:c,prefix:o,charAfterDialCode:a,forceDialCode:p,disableDialCodeAndPrefix:i,disableFormatting:l,defaultMask:d}),V=he({cursorPositionAfterInput:P,phoneBeforeInput:s,phoneAfterInput:g,phoneAfterFormatted:I,leftOffset:p?o.length+e.dialCode.length+a.length:0,deletion:S});return{phone:k,inputValue:I,cursorPosition:V,country:$}};import{useState as oe}from"react";var Ce=(t,e)=>{let n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(let o of n)if(t[o]!==e[o])return!1;return!0};import{useRef as ge}from"react";var be=()=>{let t=ge(),e=ge(Date.now());return{check:()=>{let s=Date.now(),o=t.current?s-e.current:void 0;return t.current=e.current,e.current=s,o}}};var Ee={size:20,overrideLastItemDebounceMS:-1};function we(t,e){let{size:n,overrideLastItemDebounceMS:s,onChange:o}={...Ee,...e},[a,p]=oe(t),[i,u]=oe([a]),[d,l]=oe(0),c=be();return[a,(C,x)=>{if(typeof C=="object"&&typeof a=="object"&&Ce(C,a)||C===a)return;let D=s>0,f=c.check(),g=D&&f!==void 0?f>s:!0;if(x?.overrideLastItem!==void 0?x.overrideLastItem:!g)u(k=>[...k.slice(0,d),C]);else{let k=i.length>=n;u(I=>[...I.slice(k?1:0,d+1),C]),k||l(I=>I+1)}p(C),o?.(C)},()=>{if(d<=0)return{success:!1};let C=i[d-1];return p(C),l(x=>x-1),o?.(C),{success:!0,value:C}},()=>{if(d+1>=i.length)return{success:!1};let C=i[d+1];return p(C),l(x=>x+1),o?.(C),{success:!0,value:C}}]}var X=".",A={defaultCountry:"us",value:"",prefix:"+",defaultMask:"............",charAfterDialCode:" ",historySaveDebounceMS:200,disableCountryGuess:!1,disableDialCodePrefill:!1,forceDialCode:!1,disableDialCodeAndPrefix:!1,disableFormatting:!1,countries:E,preferredCountries:[]},ne=({defaultCountry:t=A.defaultCountry,value:e=A.value,countries:n=A.countries,prefix:s=A.prefix,defaultMask:o=A.defaultMask,charAfterDialCode:a=A.charAfterDialCode,historySaveDebounceMS:p=A.historySaveDebounceMS,disableCountryGuess:i=A.disableCountryGuess,disableDialCodePrefill:u=A.disableDialCodePrefill,forceDialCode:d=A.forceDialCode,disableDialCodeAndPrefix:l=A.disableDialCodeAndPrefix,disableFormatting:c=A.disableFormatting,onChange:m,inputRef:y})=>{let x={countries:n,prefix:s,charAfterDialCode:a,forceDialCode:l?!1:d,disableDialCodeAndPrefix:l,defaultMask:o,countryGuessingEnabled:!i,disableFormatting:c},D=Te(null),f=y||D,g=b=>{Promise.resolve().then(()=>{typeof window>"u"||f.current!==document?.activeElement||f.current?.setSelectionRange(b,b)})},[{phone:P,inputValue:k,country:I},$,V,N]=we(()=>{let b=H({value:t,field:"iso2",countries:n});b||console.error(`[react-international-phone]: can not find a country with "${t}" iso2 code`);let M=b||H({value:"us",field:"iso2",countries:n}),{phone:r,inputValue:h,country:w}=J({value:e,country:M,insertDialCodeOnEmpty:!u,...x});return g(h.length),{phone:r,inputValue:h,country:w.iso2}},{overrideLastItemDebounceMS:p,onChange:({inputValue:b,phone:M,country:r})=>{if(!m)return;let h=O(r);m({phone:M,inputValue:b,country:h})}}),O=Ae(b=>H({value:b,field:"iso2",countries:n}),[n]),K=Le(()=>O(I),[I,O]);ve(()=>{let b=f.current;if(!b)return;let M=r=>{if(!r.key)return;let h=r.ctrlKey,w=r.metaKey,R=r.shiftKey;if(r.key.toLowerCase()==="z"){if(pe()){if(!w)return}else if(!h)return;R?N():V()}};return b.addEventListener("keydown",M),()=>{b.removeEventListener("keydown",M)}},[f,V,N]);let U=b=>{b.preventDefault();let{phone:M,inputValue:r,country:h,cursorPosition:w}=ye(b,{country:K,phoneBeforeInput:k,insertDialCodeOnEmpty:!1,...x});return $({inputValue:r,phone:M,country:h.iso2}),g(w),e},j=(b,M={focusOnInput:!1})=>{let r=H({value:b,field:"iso2",countries:n});if(!r){console.error(`[react-international-phone]: can not find a country with "${b}" iso2 code`);return}let h=l?"":`${s}${r.dialCode}${a}`;$({inputValue:h,phone:`${s}${r.dialCode}`,country:r.iso2}),M.focusOnInput&&Promise.resolve().then(()=>{f.current?.focus()})},[T,F]=$e(!1);return ve(()=>{if(!T){F(!0),e!==P&&m?.({inputValue:k,phone:P,country:K});return}if(e===P)return;let{phone:b,inputValue:M,country:r}=J({value:e,country:K,insertDialCodeOnEmpty:!u,...x});$({phone:b,inputValue:M,country:r.iso2})},[e]),{phone:P,inputValue:k,country:K,setCountry:j,handlePhoneValueChange:U,inputRef:f}};var te=({phone:t,country:e,defaultMask:n="............",disableFormatting:s=!1})=>{let o=e.format,a=i=>s?i.replace(new RegExp(`[^${X}]`,"g"),""):i;if(!o)return a(n);if(typeof o=="string")return a(o);if(!o.default)return console.error(`[react-international-phone]: default mask for ${e.iso2} is not provided`),a(n);let p=Object.keys(o).find(i=>{if(i==="default")return!1;if(!(i.charAt(0)==="/"&&i.charAt(i.length-1)==="/"))return console.error(`[react-international-phone]: format regex "${i}" for ${e.iso2} is not valid`),!1;let d=new RegExp(i.substring(1,i.length-1)),l=t.replace(e.dialCode,"");return d.test(G(l))});return a(p?o[p]:o.default)};var _=t=>{let[e,n,s,o,a,p]=t;return{name:e,iso2:n,dialCode:s,format:o,priority:a,areaCodes:p}};var Fe=t=>`Field "${t}" is not supported`,H=({field:t,value:e,countries:n=E})=>{if(["priority"].includes(t))throw new Error(Fe(t));let s=n.find(o=>{let a=_(o);return e===a[t]});if(s)return _(s)};var re=({phone:t,countries:e=E,currentCountryIso2:n})=>{let s={country:void 0,fullDialCodeMatch:!1};if(!t)return s;let o=G(t);if(!o)return s;let a=s,p=({country:i,fullDialCodeMatch:u})=>{let d=i.dialCode===a.country?.dialCode,l=(i.priority??0)<(a.country?.priority??0);(!d||l)&&(a={country:i,fullDialCodeMatch:u})};for(let i of e){let u=_(i),{dialCode:d,areaCodes:l}=u;if(o.startsWith(d)){let c=a.country?Number(d)>=Number(a.country.dialCode):!0;if(l){let m=o.substring(d.length);for(let y of l)if(m.startsWith(y))return{country:u,fullDialCodeMatch:!0}}(c||d===o||!a.fullDialCodeMatch)&&p({country:u,fullDialCodeMatch:!0})}a.fullDialCodeMatch||o.length<d.length&&d.startsWith(o)&&(!a.country||Number(d)<=Number(a.country.dialCode))&&p({country:u,fullDialCodeMatch:!1})}if(n){let i=H({value:n,field:"iso2",countries:e});if(!i)return a;let d=i?(c=>{if(!c?.areaCodes)return!1;let m=o.substring(c.dialCode.length);return c.areaCodes.some(y=>y.startsWith(m))})(i):!1;!!a&&a.country?.dialCode===i.dialCode&&a.country!==i&&a.fullDialCodeMatch&&(!i.areaCodes||d)&&(a={country:i,fullDialCodeMatch:!0})}return a};import Pe from"react";var ze=(t,e)=>{let n=parseInt(t,16);return Number(n+e).toString(16)},He="abcdefghijklmnopqrstuvwxyz",Ve="1f1e6",xe=He.split("").reduce((t,e,n)=>({...t,[e]:ze(Ve,n)}),{}),Ke=t=>[xe[t[0]],xe[t[1]]].join("-"),Q=({iso2:t,size:e,src:n,protocol:s="https",disableLazyLoading:o,className:a,style:p,...i})=>{if(!t)return Pe.createElement("img",{className:v({addPrefix:["flag-emoji"],rawClassNames:[a]}),width:e,height:e,...i});let u=()=>{if(n)return n;let d=Ke(t);return`${s}://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/${d}.svg`};return Pe.createElement("img",{className:v({addPrefix:["flag-emoji"],rawClassNames:[a]}),src:u(),width:e,height:e,draggable:!1,"data-country":t,loading:o?void 0:"lazy",style:{width:e,height:e,...p},alt:"",...i})};import L,{useCallback as Z,useEffect as Y,useMemo as Se,useRef as ae,useState as De}from"react";var je=1e3,ie=({show:t,dialCodePrefix:e="+",selectedCountry:n,countries:s=E,preferredCountries:o=[],flags:a,onSelect:p,enableSearch:i=!0,searchPlaceholder:u="Search countries or dial codes...",noResultsMessage:d="No results found",onClose:l,...c})=>{let m=ae(null),y=ae(),[S,C]=De(""),x=Se(()=>{if(!o||!o.length)return s;let r=[],h=[...s];for(let w of o){let R=h.findIndex(z=>_(z).iso2===w);if(R!==-1){let z=h.splice(R,1)[0];r.push(z)}}return r.concat(h)},[s,o]),D=Se(()=>S?x.filter(r=>{let h=_(r);return h.name.toLowerCase().includes(S.toLowerCase())||h.dialCode.includes(S)}):x,[x,S]),f=ae({updatedAt:void 0,value:""}),g=r=>{let h=f.current.updatedAt&&new Date().getTime()-f.current.updatedAt.getTime()>je;f.current={value:h?r:`${f.current.value}${r}`,updatedAt:new Date};let w=D.findIndex(R=>_(R).name.toLowerCase().startsWith(f.current.value));w!==-1&&I(w)},P=Z(r=>D.findIndex(h=>_(h).iso2===r),[D]),[k,I]=De(P(n)),$=()=>{y.current!==n&&I(P(n))},V=Z(r=>{I(P(r.iso2)),p?.(r)},[p,P]),N=r=>{let h=D.length-1,w=R=>r==="prev"?R-1:r==="next"?R+1:r==="last"?h:0;I(R=>{let z=w(R);return z<0?0:z>h?h:z})},O=r=>{r.key==="Escape"?(r.stopPropagation(),l?.()):r.key==="ArrowDown"||r.key==="ArrowUp"?(r.preventDefault(),F()&&(r.key==="ArrowDown"?N("next"):r.key==="ArrowUp"&&N("prev"))):r.key==="Tab"&&!r.shiftKey?(r.preventDefault(),F()):r.key==="Tab"&&r.shiftKey&&l?.()},K=r=>{if(r.stopPropagation(),r.key==="Enter"){if(r.preventDefault(),D.length>0&&k>=0){let h=_(D[k]);V(h)}return}if(r.key==="Escape"){r.preventDefault(),l?.();return}if(r.key==="ArrowUp"){if(r.preventDefault(),k<=0&&i){T();return}N("prev");return}if(r.key==="Tab"){if(r.shiftKey&&i){r.preventDefault(),T();return}else if(!r.shiftKey){r.preventDefault(),l?.();return}}if(r.key==="ArrowDown"){r.preventDefault(),N("next");return}if(r.key==="PageUp"){r.preventDefault(),N("first");return}if(r.key==="PageDown"){r.preventDefault(),N("last");return}r.key===" "&&r.preventDefault(),r.key.length===1&&!r.altKey&&!r.ctrlKey&&!r.metaKey&&g(r.key.toLocaleLowerCase())},U=r=>{C(r.target.value),D.length>0&&I(0)},j=Z(()=>{if(!m.current||k===void 0||D.length===0)return;let r=_(D[k]).iso2;if(r===y.current)return;let h=m.current.querySelector(`[data-country="${r}"]`);h&&(ce(m.current,h),y.current=r)},[k,D]);Y(()=>{j()},[k,j]);let T=Z(()=>{let r=document.querySelector(".react-international-phone-country-selector-dropdown__search-input");return r?(r.focus(),!0):!1},[]),F=Z(()=>m.current?(m.current.focus(),!0):!1,[]);Y(()=>{m.current&&(t?F():($(),C("")))},[t,T,F]),Y(()=>{$()},[n]),Y(()=>{t||(f.current={updatedAt:void 0,value:""})},[t]);let b=o&&o.length>0,M=D.map((r,h)=>{let w=_(r),R=b&&h===o.length-1,z=h===k;return L.createElement(L.Fragment,{key:w.iso2},L.createElement("li",{"data-country":w.iso2,"data-testid":`${w.name} ${e}${w.dialCode}`,role:"option","aria-selected":w.iso2===n,className:v({addPrefix:["country-selector-dropdown__list-item",z&&"country-selector-dropdown__list-item--focused",w.iso2===n&&"country-selector-dropdown__list-item--selected"],rawClassNames:[c.listItemClassName]}),style:c.listItemStyle,onClick:()=>V(w)},L.createElement(Q,{iso2:w.iso2,src:a?.find(Ie=>Ie.iso2===w.iso2)?.src,className:v({addPrefix:["country-selector-dropdown__list-item-flag-emoji"],rawClassNames:[c.listItemFlagClassName]}),style:c.listItemFlagStyle}),L.createElement("span",{className:v({addPrefix:["country-selector-dropdown__list-item-country-name"],rawClassNames:[c.listItemCountryNameClassName]}),style:c.listItemCountryNameStyle},w.name),L.createElement("span",{"data-dialcode":w.dialCode,className:v({addPrefix:["country-selector-dropdown__list-item-dial-code"],rawClassNames:[c.listItemDialCodeClassName]}),style:c.listItemDialCodeStyle},e+w.dialCode)),R&&L.createElement("li",{role:"separator",className:v({addPrefix:["country-selector-dropdown__list-divider"],rawClassNames:[c.preferredListDividerClassName]}),style:c.preferredListDividerStyle}))});return L.createElement("div",{className:v({addPrefix:["country-selector-dropdown"],rawClassNames:[c.className]}),style:{...c.style,display:t?"flex":"none"},onMouseDown:r=>{r.stopPropagation()},onClick:r=>{r.stopPropagation()}},i&&L.createElement("div",{className:v({addPrefix:["country-selector-dropdown__search-container"],rawClassNames:[c.searchContainerClassName]}),style:c.searchContainerStyle},L.createElement("input",{type:"text",placeholder:u,value:S,onChange:U,className:v({addPrefix:["country-selector-dropdown__search-input"],rawClassNames:[c.searchInputClassName]}),style:c.searchInputStyle,onClick:r=>{r.stopPropagation()},onMouseDown:r=>r.stopPropagation(),onKeyDown:O})),L.createElement("ul",{role:"listbox",tabIndex:0,className:v({addPrefix:["country-selector-dropdown__list"],rawClassNames:[]}),ref:m,onKeyDown:K,style:{outline:"none"}},D.length>0?M:L.createElement("li",{className:v({addPrefix:["country-selector-dropdown__no-results"],rawClassNames:[]})},d)))};var se=({selectedCountry:t,onSelect:e,disabled:n,hideDropdown:s,countries:o=E,preferredCountries:a=[],flags:p,enableSearch:i,searchPlaceholder:u,noResultsMessage:d,renderButtonWrapper:l,...c})=>{let[m,y]=Ge(!1),S=Be(null),C=Oe(()=>{if(t)return H({value:t,field:"iso2",countries:o})},[o,t]);ke(()=>{let f=g=>{m&&S.current&&!S.current.contains(g.target)&&y(!1)};return document.addEventListener("mousedown",f),()=>{document.removeEventListener("mousedown",f)}},[m]),ke(()=>{let f=g=>{if(m&&g.key==="Escape"){let P=g.target;(!S.current?.contains(P)||P===S.current)&&y(!1)}};return document.addEventListener("keydown",f),()=>{document.removeEventListener("keydown",f)}},[m]);let x=f=>{f.key&&["ArrowUp","ArrowDown"].includes(f.key)&&(f.preventDefault(),y(!0))},D=()=>{let f={title:C?.name,onClick:()=>y(P=>!P),onMouseDown:P=>P.preventDefault(),onKeyDown:x,disabled:s||n,role:"combobox","aria-label":"Country selector","aria-haspopup":"listbox","aria-expanded":m},g=q.createElement("div",{className:v({addPrefix:["country-selector-button__button-content"],rawClassNames:[c.buttonContentWrapperClassName]}),style:c.buttonContentWrapperStyle},q.createElement(Q,{iso2:t,src:p?.find(P=>P.iso2===t)?.src,className:v({addPrefix:["country-selector-button__flag-emoji",n&&"country-selector-button__flag-emoji--disabled"],rawClassNames:[c.flagClassName]}),style:{visibility:t?"visible":"hidden",...c.flagStyle}}),!s&&q.createElement("div",{className:v({addPrefix:["country-selector-button__dropdown-arrow",n&&"country-selector-button__dropdown-arrow--disabled",m&&"country-selector-button__dropdown-arrow--active"],rawClassNames:[c.dropdownArrowClassName]}),style:c.dropdownArrowStyle}));return l?l({children:g,rootProps:f}):q.createElement("button",{...f,type:"button",className:v({addPrefix:["country-selector-button",m&&"country-selector-button--active",n&&"country-selector-button--disabled",s&&"country-selector-button--hide-dropdown"],rawClassNames:[c.buttonClassName]}),"data-country":t,style:c.buttonStyle},g)};return q.createElement("div",{className:v({addPrefix:["country-selector"],rawClassNames:[c.className]}),style:c.style,ref:S},D(),q.createElement(ie,{show:m,countries:o,preferredCountries:a,flags:p,onSelect:f=>{y(!1),e?.(f)},selectedCountry:t,enableSearch:i,searchPlaceholder:u,noResultsMessage:d,onClose:()=>y(!1),...c.dropdownStyleProps}))};import Ue from"react";var le=({dialCode:t,prefix:e,disabled:n,style:s,className:o})=>Ue.createElement("div",{className:v({addPrefix:["dial-code-preview",n&&"dial-code-preview--disabled"],rawClassNames:[o]}),style:s},`${e}${t}`);import ee,{forwardRef as We,useImperativeHandle as qe}from"react";var Je=We(({value:t,onChange:e,countries:n=E,preferredCountries:s=[],hideDropdown:o,showDisabledDialCodeAndPrefix:a,disableFocusAfterCountrySelect:p,flags:i,enableCountrySearch:u=!0,countrySearchPlaceholder:d="Search countries or dial codes...",countryNoResultsMessage:l="No results found",style:c,className:m,inputStyle:y,inputClassName:S,countrySelectorStyleProps:C,dialCodePreviewStyleProps:x,inputProps:D,placeholder:f,disabled:g,name:P,onFocus:k,onBlur:I,required:$,autoFocus:V,...N},O)=>{let{phone:K,inputValue:U,inputRef:j,country:T,setCountry:F,handlePhoneValueChange:b}=ne({value:t,countries:n,...N,onChange:r=>{e?.(r.phone,{country:r.country,inputValue:r.inputValue})}}),M=N.disableDialCodeAndPrefix&&a&&T?.dialCode;return qe(O,()=>j.current?Object.assign(j.current,{setCountry:F,state:{phone:K,inputValue:U,country:T}}):null,[j,F,K,U,T]),ee.createElement("div",{ref:O,className:v({addPrefix:["input-container"],rawClassNames:[m]}),style:c},ee.createElement(se,{onSelect:r=>F(r.iso2,{focusOnInput:!p}),flags:i,selectedCountry:T.iso2,countries:n,preferredCountries:s,disabled:g,hideDropdown:o,enableSearch:u,searchPlaceholder:d,noResultsMessage:l,...C}),M&&ee.createElement(le,{dialCode:T.dialCode,prefix:N.prefix??"+",disabled:g,...x}),ee.createElement("input",{role:"phone-input",onChange:b,value:U,type:"tel",ref:j,className:v({addPrefix:["input",g&&"input--disabled"],rawClassNames:[S]}),placeholder:f,disabled:g,style:y,name:P,onFocus:k,onBlur:I,autoFocus:V,required:$,...D}))});export{se as CountrySelector,ie as CountrySelectorDropdown,le as DialCodePreview,Q as FlagImage,Je as PhoneInput,_e as buildCountryData,E as defaultCountries,te as getActiveFormattingMask,H as getCountry,re as guessCountryByPartialPhoneNumber,_ as parseCountry,me as removeDialCode,ne as usePhoneInput};
